@{
    Layout = "~/Views/Shared/_myLayout.cshtml";
}

@section addgrade{
    <script>

    //    var id = '@ViewBag.ID';
    //    var type = '@ViewBag.type';
    Ext.onReady(function () {
        var states = Ext.create('Ext.data.Store', {
            fields: ['abbr', 'name'],
            data : [
                {"abbr":"male", "name":"男"},
                {"abbr":"famale", "name":"女"}


            ]
        });

        var form1 = new Ext.FormPanel({
            layout: 'form',
//            style : 'background-image:url(./images/studentGrade.jpg);background-repeat: no-repeat;filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=\'scale\')";-moz-background-size:100% 100%;background-size:100% 100%;',
//            collapsible: true,
            autoHeight: true,

//            marginTop: '50px',
            frame: true,
            renderTo: Ext.getBody(),
            title: '<center style="curor:hand" onclick="window.location.reload();">学生成绩表-编辑</center>',
            style: 'margin-left:auto;margin-right:auto;width:500px;margin-top:200px;',

            //设置标签对齐方式
            labelAlign: 'right',
            //设置标签宽
            labelWidth: 170,
            //设置按钮的对齐方式
            buttonAlign:'center',
            //默认元素属性设置
            defaults:{
                width:180
            },
            items: [{
                fieldLabel: '学号',
                name: 'DropDownList',
                xtype: 'combo',
                //本地数据源  local/remote
                mode:'local',
                //设置为选项的text的字段
                displayField: "Name",
                //设置为选项的value的字段
                valueField: "Id",
                //是否可以输入，还是只能选择下拉框中的选项
                editable : false,
                typeAhead: true,
                //必须选择一项
                //forceSelection: true,
                //输入部分选项内容匹配的时候显示所有的选项
                triggerAction: 'all',
                //selectOnFocus:true,
                //数据
                store:new Ext.data.SimpleStore({
                    fields: ['Id', 'Name'],
                    data: [  [1,'男'],[0,'女'] ]
                })
            },{
                fieldLabel: '课程号',
                name: 'DropDownList',
                xtype: 'combo',
                //本地数据源  local/remote
                mode:'local',
                //设置为选项的text的字段
                displayField: "Name",
                //设置为选项的value的字段
                valueField: "Id",
                //是否可以输入，还是只能选择下拉框中的选项
                editable : false,
                typeAhead: true,
                //必须选择一项
                //forceSelection: true,
                //输入部分选项内容匹配的时候显示所有的选项
                triggerAction: 'all',
                //selectOnFocus:true,
                //数据
                store:new Ext.data.SimpleStore({
                    fields: ['Id', 'Name'],
                    data: [  [1,'男'],[0,'女'] ]
                })
            },{
                fieldLabel: '分数'
                ,name:'TextBoxNumber'
                ,xtype:'numberfield'
                //,allowDecimals: false     // 允许小数点
                //,allowNegative: false,     // 允许负数
                //,maxValue:1000      //最大值
                //,minValue:0            //最小值
            }],
            buttons: [{
                text: "添 加",
                id: 'add'
                ,handler:function(){
                    MsgInfo('保存');
                }
            }, {
                text: "取 消",
                id: 'cel'
                ,handler:function(){
                    form1.form.reset();
                }
            }]
        });

        function MsgInfo(str_msg)
        {
            Ext.MessageBox.show({
                title: '提示',
                msg: str_msg,
                width: 400,
                icon:Ext.MessageBox.INFO,
                buttons: Ext.MessageBox.OK
            });
        }















        Ext.create('Ext.container.Viewport',{
            id: 'viewPort',
            style : 'background-image:url(../images/studentGrade.jpg);background-repeat: no-repeat;filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=\'scale\')";-moz-background-size:100% 100%;background-size:100% 100%;',
            layout: 'border',
            items:[
                toolbar
            ]
        })
    })




    </script>

    }
